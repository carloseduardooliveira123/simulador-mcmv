
html<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador MCMV - Carlos Oliveira Im√≥veis | Brusque SC</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>

    <script>
        const { useState, useCallback, useMemo } = React;

        function MCMVCalculator() {
            const [values, setValues] = useState({
                propertyValue: '',
                downPayment: '',
                income: '',
                years: '30',
                system: 'SAC',
                propertyType: 'new',
                birthDate: ''
            });
            
            const [result, setResult] = useState(null);
            const [errors, setErrors] = useState({});

            const propertyConfig = useMemo(() => ({
                new: {
                    label: 'Im√≥vel Novo',
                    maxFinancePercentage: 80,
                    minDownPayment: 20,
                    interestRate: 0.10
                },
                used: {
                    label: 'Im√≥vel Usado',
                    maxFinancePercentage: 60,
                    minDownPayment: 40,
                    interestRate: 0.105
                }
            }), []);

            const formatCurrency = useCallback((value) => {
                return new Intl.NumberFormat('pt-BR', {
                    style: 'currency',
                    currency: 'BRL'
                }).format(value);
            }, []);

            const formatInputCurrency = useCallback((value) => {
                if (!value) return '';
                return new Intl.NumberFormat('pt-BR').format(value);
            }, []);

            const handleInputChange = useCallback((field, value) => {
                if (field === 'birthDate') {
                    setValues(prev => ({...prev, [field]: value}));
                } else {
                    const numericValue = value.replace(/\D/g, '');
                    setValues(prev => ({...prev, [field]: numericValue}));
                }
                
                if (errors[field]) {
                    setErrors(prev => ({...prev, [field]: null}));
                }
            }, [errors]);

            const calculateAgeInfo = useCallback((birthDate) => {
                if (!birthDate) return null;
                
                const today = new Date();
                const birth = new Date(birthDate);
                let age = today.getFullYear() - birth.getFullYear();
                const monthDiff = today.getMonth() - birth.getMonth();
                
                if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birth.getDate())) {
                    age--;
                }
                
                const maxAgeAtEnd = 80.5;
                const maxYearsFinancing = Math.floor(maxAgeAtEnd - age);
                
                return {
                    currentAge: age,
                    maxYearsFinancing: maxYearsFinancing,
                    canFinance: maxYearsFinancing >= 5
                };
            }, []);

            const calculate = () => {
                const propertyValue = parseFloat(values.propertyValue);
                const downPayment = parseFloat(values.downPayment);
                const income = parseFloat(values.income);
                const years = parseInt(values.years);
                const config = propertyConfig[values.propertyType];
                
                if (!propertyValue || !downPayment || !income || !values.birthDate) {
                    alert('Preencha todos os campos');
                    return;
                }
                
                const financeAmount = propertyValue - downPayment;
                const monthlyRate = config.interestRate / 12;
                const totalMonths = years * 12;
                
                // C√°lculo SAC
                const amortization = financeAmount / totalMonths;
                const firstPayment = amortization + (financeAmount * monthlyRate);
                const lastPayment = amortization + (amortization * monthlyRate);
                
                // C√°lculo PRICE
                const pricePayment = financeAmount * (monthlyRate * Math.pow(1 + monthlyRate, totalMonths)) / (Math.pow(1 + monthlyRate, totalMonths) - 1);
                
                const monthlyPayment = values.system === 'SAC' ? (firstPayment + lastPayment) / 2 : pricePayment;
                const paymentForAnalysis = values.system === 'SAC' ? firstPayment : pricePayment;
                
                const maxPayment = income * 0.3;
                const isInValidRange = income >= 8600 && income <= 12000;
                const hasMinimumDownPayment = (downPayment / propertyValue) * 100 >= 20;
                const autoApproved = isInValidRange && hasMinimumDownPayment;
                
                setResult({
                    propertyValue,
                    downPayment,
                    financeAmount,
                    monthlyPayment,
                    firstPayment,
                    lastPayment,
                    years,
                    system: values.system,
                    approved: autoApproved || paymentForAnalysis <= maxPayment,
                    autoApproved,
                    maxPayment,
                    paymentForAnalysis,
                    downPaymentPercentage: (downPayment / propertyValue) * 100,
                    interestRate: config.interestRate,
                    config
                });
            };

            const currentConfig = propertyConfig[values.propertyType];
            const ageInfo = calculateAgeInfo(values.birthDate);

            return React.createElement('div', {
                className: "max-w-4xl mx-auto p-4 bg-gradient-to-br from-blue-50 to-green-50 min-h-screen"
            }, [
                // Header
                React.createElement('div', {
                    key: 'header',
                    className: "text-center mb-6"
                }, [
                    React.createElement('h1', {
                        key: 'title',
                        className: "text-2xl font-bold text-gray-800 mb-2"
                    }, 'üßÆ Simulador MCMV - Classe M√©dia'),
                    React.createElement('p', {
                        key: 'subtitle',
                        className: "text-gray-600"
                    }, 'Simule seu financiamento baseado no Sistema Oficial da CEF')
                ]),

                // Info Cards
                React.createElement('div', {
                    key: 'cards',
                    className: "grid md:grid-cols-4 gap-3 mb-6"
                }, [
                    React.createElement('div', {
                        key: 'card1',
                        className: "bg-white p-3 rounded-lg shadow-sm border-l-4 border-blue-500"
                    }, [
                        React.createElement('h3', {
                            key: 'h3-1',
                            className: "font-semibold text-sm text-gray-700 mb-1"
                        }, 'üí∞ Renda Familiar'),
                        React.createElement('p', {
                            key: 'p1',
                            className: "text-xs text-gray-600"
                        }, 'R$ 8.600 a R$ 12.000')
                    ]),
                    React.createElement('div', {
                        key: 'card2',
                        className: "bg-white p-3 rounded-lg shadow-sm border-l-4 border-green-500"
                    }, [
                        React.createElement('h3', {
                            key: 'h3-2',
                            className: "font-semibold text-sm text-gray-700 mb-1"
                        }, 'üè† Valor do Im√≥vel'),
                        React.createElement('p', {
                            key: 'p2',
                            className: "text-xs text-gray-600"
                        }, 'At√© R$ 500.000')
                    ]),
                    React.createElement('div', {
                        key: 'card3',
                        className: "bg-white p-3 rounded-lg shadow-sm border-l-4 border-purple-500"
                    }, [
                        React.createElement('h3', {
                            key: 'h3-3',
                            className: "font-semibold text-sm text-gray-700 mb-1"
                        }, '‚è∞ Prazo'),
                        React.createElement('p', {
                            key: 'p3',
                            className: "text-xs text-gray-600"
                        }, 'At√© 35 anos')
                    ]),
                    React.createElement('div', {
                        key: 'card4',
                        className: "bg-white p-3 rounded-lg shadow-sm border-l-4 border-orange-500"
                    }, [
                        React.createElement('h3', {
                            key: 'h3-4',
                            className: "font-semibold text-sm text-gray-700 mb-1"
                        }, 'üè¢ Institui√ß√£o'),
                        React.createElement('p', {
                            key: 'p4',
                            className: "text-xs text-gray-600"
                        }, 'Caixa Econ√¥mica')
                    ])
                ]),

                // Property Type Selection
                React.createElement('div', {
                    key: 'property-selection',
                    className: "bg-white rounded-lg shadow-lg p-5 mb-6"
                }, [
                    React.createElement('h2', {
                        key: 'property-title',
                        className: "text-lg font-semibold mb-4"
                    }, 'üè† Tipo de Im√≥vel'),
                    React.createElement('div', {
                        key: 'property-options',
                        className: "grid md:grid-cols-2 gap-4"
                    }, Object.entries(propertyConfig).map(([key, config]) =>
                        React.createElement('div', {
                            key: key,
                            className: `p-4 rounded-lg border-2 cursor-pointer transition-all ${
                                values.propertyType === key 
                                    ? 'border-blue-500 bg-blue-50' 
                                    : 'border-gray-200 hover:border-gray-300'
                            }`,
                            onClick: () => setValues(prev => ({...prev, propertyType: key}))
                        }, [
                            React.createElement('div', {
                                key: 'radio-container',
                                className: "flex items-center mb-2"
                            }, [
                                React.createElement('input', {
                                    key: 'radio',
                                    type: 'radio',
                                    checked: values.propertyType === key,
                                    onChange: () => setValues(prev => ({...prev, propertyType: key})),
                                    className: "mr-2"
                                }),
                                React.createElement('h3', {
                                    key: 'radio-label',
                                    className: "font-semibold text-gray-800"
                                }, config.label)
                            ]),
                            React.createElement('ul', {
                                key: 'features',
                                className: "text-sm text-gray-600 space-y-1"
                            }, [
                                React.createElement('li', { key: 'tax' }, `‚Ä¢ Taxa: ${(config.interestRate * 100).toFixed(1)}% ao ano`),
                                React.createElement('li', { key: 'finance' }, `‚Ä¢ Financiamento: at√© ${config.maxFinancePercentage}%`),
                                React.createElement('li', { key: 'down' }, `‚Ä¢ Entrada m√≠nima: ${config.minDownPayment}%`)
                            ])
                        ])
                    ))
                ]),

                // Calculator Form
                React.createElement('div', {
                    key: 'calculator',
                    className: "bg-white rounded-lg shadow-lg p-5 mb-6"
                }, [
                    React.createElement('h2', {
                        key: 'calc-title',
                        className: "text-lg font-semibold mb-4"
                    }, `üßÆ Simula√ß√£o MCMV - ${currentConfig.label}`),
                    
                    React.createElement('div', {
                        key: 'form-grid',
                        className: "grid md:grid-cols-3 gap-4 mb-4"
                    }, [
                        // Data de Nascimento
                        React.createElement('div', { key: 'birth-field' }, [
                            React.createElement('label', {
                                key: 'birth-label',
                                className: "block text-sm font-medium text-gray-700 mb-1"
                            }, 'Data de Nascimento'),
                            React.createElement('input', {
                                key: 'birth-input',
                                type: 'date',
                                className: "w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",
                                value: values.birthDate,
                                onChange: (e) => handleInputChange('birthDate', e.target.value)
                            }),
                            ageInfo && React.createElement('p', {
                                key: 'age-info',
                                className: "text-green-600 text-xs mt-1"
                            }, `‚úÖ ${ageInfo.currentAge} anos - Pode financiar at√© ${ageInfo.maxYearsFinancing} anos`)
                        ]),

                        // Valor do Im√≥vel
                        React.createElement('div', { key: 'property-field' }, [
                            React.createElement('label', {
                                key: 'property-label',
                                className: "block text-sm font-medium text-gray-700 mb-1"
                            }, 'Valor do Im√≥vel (R$)'),
                            React.createElement('input', {
                                key: 'property-input',
                                type: 'text',
                                className: "w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",
                                placeholder: "Ex: 450000",
                                value: formatInputCurrency(values.propertyValue),
                                onChange: (e) => handleInputChange('propertyValue', e.target.value)
                            })
                        ]),

                        // Valor da Entrada
                        React.createElement('div', { key: 'down-field' }, [
                            React.createElement('label', {
                                key: 'down-label',
                                className: "block text-sm font-medium text-gray-700 mb-1"
                            }, 'Valor da Entrada (R$)'),
                            React.createElement('input', {
                                key: 'down-input',
                                type: 'text',
                                className: "w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",
                                placeholder: `M√≠n: ${currentConfig.minDownPayment}%`,
                                value: formatInputCurrency(values.downPayment),
                                onChange: (e) => handleInputChange('downPayment', e.target.value)
                            })
                        ])
                    ]),

                    React.createElement('div', {
                        key: 'form-grid-2',
                        className: "grid md:grid-cols-3 gap-4 mb-4"
                    }, [
                        // Renda Familiar
                        React.createElement('div', { key: 'income-field' }, [
                            React.createElement('label', {
                                key: 'income-label',
                                className: "block text-sm font-medium text-gray-700 mb-1"
                            }, 'Renda Familiar (R$)'),
                            React.createElement('input', {
                                key: 'income-input',
                                type: 'text',
                                className: "w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",
                                placeholder: "Ex: 10000",
                                value: formatInputCurrency(values.income),
                                onChange: (e) => handleInputChange('income', e.target.value)
                            })
                        ]),

                        // Prazo
                        React.createElement('div', { key: 'years-field' }, [
                            React.createElement('label', {
                                key: 'years-label',
                                className: "block text-sm font-medium text-gray-700 mb-1"
                            }, 'Prazo (anos)'),
                            React.createElement('select', {
                                key: 'years-select',
                                className: "w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",
                                value: values.years,
                                onChange: (e) => setValues(prev => ({...prev, years: e.target.value}))
                            }, [15, 20, 25, 30, 35].map(year =>
                                React.createElement('option', {
                                    key: year,
                                    value: year,
                                    disabled: ageInfo && year > ageInfo.maxYearsFinancing
                                }, `${year} anos ${ageInfo && year > ageInfo.maxYearsFinancing ? '(Excede limite de idade)' : ''}`)
                            ))
                        ]),

                        // Sistema
                        React.createElement('div', { key: 'system-field' }, [
                            React.createElement('label', {
                                key: 'system-label',
                                className: "block text-sm font-medium text-gray-700 mb-1"
                            }, 'Sistema'),
                            React.createElement('select', {
                                key: 'system-select',
                                className: "w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",
                                value: values.system,
                                onChange: (e) => setValues(prev => ({...prev, system: e.target.value}))
                            }, [
                                React.createElement('option', { key: 'sac', value: 'SAC' }, 'SAC (Parcelas Decrescentes)'),
                                React.createElement('option', { key: 'price', value: 'PRICE' }, 'PRICE (Parcelas Fixas)')
                            ])
                        ])
                    ]),

                    React.createElement('button', {
                        key: 'calc-button',
                        onClick: calculate,
                        className: "w-full mt-4 bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700 transition-colors font-medium text-lg"
                    }, 'Calcular Financiamento')
                ]),

                // Results
                result && React.createElement('div', {
                    key: 'results',
                    className: "bg-white rounded-lg shadow-lg p-5 mb-6"
                }, [
                    React.createElement('h2', {
                        key: 'result-title',
                        className: "text-lg font-semibold mb-4"
                    }, 'Resultado da Simula√ß√£o'),
                    
                    React.createElement('div', {
                        key: 'result-grid',
                        className: "grid md:grid-cols-2 gap-6"
                    }, [
                        React.createElement('div', {
                            key: 'mcmv-result',
                            className: "bg-blue-50 p-4 rounded-lg"
                        }, [
                            React.createElement('h3', {
                                key: 'mcmv-title',
                                className: "font-semibold text-blue-800 mb-3"
                            }, 'MCMV Classe M√©dia'),
                            React.createElement('div', {
                                key: 'mcmv-details',
                                className: "space-y-2 text-sm"
                            }, [
                                React.createElement('p', { key: 'value' }, `Valor do im√≥vel: ${formatCurrency(result.propertyValue)}`),
                                React.createElement('p', { key: 'down' }, `Entrada: ${formatCurrency(result.downPayment)} (${result.downPaymentPercentage.toFixed(1)}%)`),
                                React.createElement('p', { key: 'finance' }, `Valor financiado: ${formatCurrency(result.financeAmount)}`),
                                result.system === 'SAC' ? 
                                    React.createElement('div', { key: 'sac-payments' }, [
                                        React.createElement('p', { key: 'first' }, `1¬™ parcela: ${formatCurrency(result.firstPayment)}`),
                                        React.createElement('p', { key: 'last' }, `√öltima parcela: ${formatCurrency(result.lastPayment)}`)
                                    ]) :
                                    React.createElement('p', { key: 'fixed' }, `Parcela fixa: ${formatCurrency(result.monthlyPayment)}`)
                            ])
                        ]),

                        React.createElement('div', {
                            key: 'status-result',
                            className: `p-4 rounded-lg ${result.autoApproved ? 'bg-green-50' : 'bg-yellow-50'}`
                        }, [
                            React.createElement('h3', {
                                key: 'status-title',
                                className: `font-semibold mb-3 ${result.autoApproved ? 'text-green-800' : 'text-yellow-800'}`
                            }, 'Status da An√°lise'),
                            React.createElement('div', {
                                key: 'status-details',
                                className: "space-y-2 text-sm"
                            }, [
                                React.createElement('p', { key: 'income' }, `Renda familiar: ${formatCurrency(parseFloat(values.income))}`),
                                React.createElement('p', { key: 'limit' }, `Limite CEF (30%): ${formatCurrency(result.maxPayment)}`),
                                React.createElement('p', { key: 'payment' }, `Presta√ß√£o analisada: ${formatCurrency(result.paymentForAnalysis)}`),
                                React.createElement('p', {
                                    key: 'final-status',
                                    className: `font-bold ${result.autoApproved ? 'text-green-600' : 'text-yellow-600'}`
                                }, result.autoApproved ? 
                                    '‚úÖ Pr√©-Aprovado MCMV - Dentro da faixa de renda' : 
                                    '‚ö†Ô∏è Aprovado - Mas requer an√°lise de cr√©dito CEF'
                                )
                            ])
                        ])
                    ])
                ]),

                // Footer
                React.createElement('div', {
                    key: 'footer',
                    className: "text-center text-gray-600 text-xs"
                }, [
                    React.createElement('p', {
                        key: 'disclaimer',
                        className: "mb-2"
                    }, '* Simula√ß√£o baseada no Manual Oficial da CEF. Regra de idade: soma da idade + prazo ‚â§ 80 anos e 6 meses.'),
                    React.createElement('p', {
                        key: 'contact'
                    }, 'üìû (47) 99900-1754 | üìß contato@carlosoliveiraimovel.com.br | Brusque - SC')
                ])
            ]);
        }

        ReactDOM.render(React.createElement(MCMVCalculator), document.getElementById('root'));
    </script>
</body>
</html>
